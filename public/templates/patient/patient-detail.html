<div class="dashboard-con settings">
    <div class="col-md-12 col-sm-12 form-content" ng-scrollbars>
      <div class="row patient-container">
        <div class="col-sm-6">
            <div class="patient-con">
                <div class="patient-name">
                    <div class="col-sm-6">
                        <img src="assets/user.png" alt="">
                        <h2>{{PatientDetails.title}} {{PatientDetails.first_name}} {{PatientDetails.last_name}}</h2>
                    </div>
                    <div class="col-sm-6 p_form">
                    	<a href="" ng-click="openDetail()">
                        	<i class="ic info info-hover p-detail">
                            	<span>Full Detail</span>
                            </i>
                        </a>
                        <form class="alert-form">
                        	<input type="text" class="form-control" placeholder="Dental Patient">
                            <button type="submit">Add Alert</button>
                        </form>
                    </div>
                </div>
                <div class="col-sm-7">
                    <h4>Contact No : <span>{{PatientDetails.phone_list[0].contact_no}}</span></h4>
                </div>
                <div class="col-sm-5">
                    <h4>DOB : <span>{{PatientDetails.dob_day}}/{{PatientDetails.dob_month}}/{{PatientDetails.dob_year}} ({{PatientDetails.age}} years old)</span></h4>
                </div>
                <div class="col-sm-7">
                    <h4>Email : <span>{{PatientDetails.email}}</span></h4>
                </div>
                <div class="col-sm-5">
                    <h4>Concession Type : <span>{{PatientDetails.concession_type}}</span></h4>
                </div>
                <div class="col-sm-7">
                    <h4>Address : <span>{{PatientDetails.address}}</span></h4>
                </div>
                <div class="col-sm-5">
                    <h4>Occupation : <span>{{PatientDetails.occupation}}</span></h4>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
        	<div class="patient-links">
            	<div class="col-sm-5">
                	<h3>
                    	John Martan
                        <span>Thu,12 Nov 2015 at 1:15 pm </span>
                    </h3>
                    <a href="#">Next Appointment</a>
                </div>
                <div class="col-sm-3">
                	<h6><a href="#">Treatment Notes</a></h6>
                    <h6><a href="#">Communications</a></h6>
                    <h6><a href="#">Payments</a></h6>
                </div>
                <div class="col-sm-4">
                	<h6><a href="#">File Attachments</a></h6>
                    <h6><a href="#">Invoices</a></h6>
                    <h6><a href="#">Recalls</a></h6>
                </div>
            </div>
            <div class="below-links">
            	<a ui-sref="patient-edit({patient_id:PatientDetails.id})"><i class="fa fa-edit" ></i> Edit Details</a>
            	<a href="#"><i class="fa fa-code-fork"></i> Merge</a>
            	<a href="#"><i class="fa fa-archive"></i> Archive</a>
            	<a href="#"><i class="fa fa-history"></i> History Report</a>
            	<a href="#"><i class="fa fa-newspaper-o"></i> Account Statement</a>
            </div>
        </div>
      </div>
    </div>
</div>

<form ng-submit="PatientForm.$valid && CreatePatient(Patient)" id="" class="products contact"  name="PatientForm" novalidate   >
<div class="col-md-6" >
    <h3>&nbsp;</h3>
</div>
<div class="col-md-6 top-btn inner-btns product-save">
    <button class="save">{{'S_button_save' | translate}}</button>
    <button type="button" class="cancel" ng-click="new_patient_Hide()">{{'S_button_cancel' | translate}}</button>
</div>
<div class="col-md-12" ng-scrollbars>
    <div class="col-sm-6">
            <div class="col-sm-12">
                <h2>Personal Information</h2>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label>Title</label>
                    <select class="form-control" ng-model="Patient.title">
                        <option value="dr">{{'S_UP_title1' | translate}}</option>
                        <option value="mr">{{'S_UP_title2' | translate}}</option>
                        <option value="mrs">{{'S_UP_title3' | translate}}</option>
                        <option value="Miss">{{'S_UP_title4' | translate}}</option>
                        <option value="Dr">{{'S_UP_title5' | translate}}</option>
                        <option value="Master">{{'S_UP_title6' | translate}}</option>
                        <option value="Professor">{{'S_UP_title7' | translate}}</option>
                        <option value="Sir">{{'S_UP_title8' | translate}}</option>
                        <option value="Lord">{{'S_UP_title9' | translate}}</option>
                        <option value="Lady">{{'S_UP_title10' | translate}}</option>
                        <option value="Dame">{{'S_UP_title11' | translate}}</option>
                        <option value="Reverend">{{'S_UP_title12' | translate}}</option>
                        <option value="Sister">{{'S_UP_title13' | translate}}</option>
                        <option value="Rabbi">{{'S_UP_title14' | translate}}</option>
                        <option value="King">{{'S_UP_title15' | translate}}</option>
                        <option value="Zombie Lord">{{'S_UP_title16' | translate}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control"  ng-model="Patient.first_name" required>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" ng-model="Patient.last_name" required>
                </div>
            </div>
            <div class="col-sm-12">
                <label>Date of Birth</label>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <select class="form-control" ng-model="Patient.dob_day">
                        <option value="">Day</option>
                        <option ng-repeat="n in range(1,31)">{{n}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <select class="form-control" ng-model="Patient.dob_month">
                        <option  value="">Month</option>
                        <option ng-repeat="n in range(1,12)">{{n}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <select class="form-control" ng-model="Patient.dob_year">
                        <option  value="">Year</option>
                        <option ng-repeat="n in range(1905,2015) |  orderBy:'n'">{{n}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label>Gender</label>
                    <div class="form-group">
                        <div class="row type">
                            <div class="col-sm-4">
                                <div class="form-group medi radio-con">
                                    <div class="radio">
                                        <label>
                                          <input type="radio" ng-model="Patient.gender" name="test" value="Male"><span></span> Male
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group medi radio-con">
                                    <div class="radio">
                                        <label>
                                          <input type="radio" ng-model="Patient.gender" name="test" value="Female"><span></span> Female
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group medi radio-con">
                                    <div class="radio">
                                        <label>
                                          <input type="radio" ng-model="Patient.gender" name="test" value="Not Applicable"><span></span> Not Applicable
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12">
                <h2>related clients</h2>
            </div>
            <div class="col-sm-12">
                <div class="row">
                <div class="form-group more-contacts rel-client" ng-repeat="relatives in Patient.relationship">
                    <div class="col-sm-5">
                         <md-content class="md-padding">
                               <md-autocomplete
                                md-selected-item="relatives.patient"
                                md-search-text=""
                                md-items="item in PatientList"
                                md-item-text="item.first_name+' '+item.last_name"
                                placeholder="Search"
                                md-min-length="0">
                               <span md-highlight-text="searchText">{{item.first_name}}  {{item.last_name}}</span>
                               <md-item-template>
                                   <span md-highlight-text="searchTextp" md-highlight-flags="^i">{{item.first_name}} {{item.last_name}}</span>
                               </md-item-template>
                            </md-autocomplete>
                        </md-content>
                    </div>
                    <div class="col-sm-4">
                        <select class="form-control" ng-model="relatives.type">
                            <option value="Parent">Parent</option>
                            <option value="Child">Child</option>
                            <option value="Sibling">Sibling</option>
                            <option value="Partner">Partner</option>
                            <option value="Spouse">Spouse</option>
                            <option value="Relative">Relative</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="col-sm-3 con-rem">
                        <a href="" ng-click="removeRelative($index)" class="remove"><i class="ic cross"></i> Remove</a>
                    </div>
                </div>
                <div class="col-sm-12">
                    <a href="" ng-click="addRelative()" class="add-btn"><i class="ic add"></i> Add New</a>
                </div>
            </div>  
            </div> 
            <div class="col-sm-12">
                <h2>billing</h2>
            </div>
            <div class="col-sm-12">
                <div class="row">
                <div class="form-group con-type1">
                    <div class="col-sm-5">
                        <label>Concession Type</label>
                        <select class="form-control" ng-model="Patient.concession_type">
                            <option ng-repeat="concessions in ConcessionTypeList" value="{{concessions.id}}">{{concessions.name}}</option>
                        </select>
                    </div>
                    <div class="col-sm-7">
                        <label>Email Invoice To
                            <i class="ic info info-hover">
                                <span class="ng-binding">This is an additional email address you can send invoices to (separate to the client).</span>
                            </i>
                        </label>
                        <input type="text" class="form-control" ng-model="Patient.invoice_email">
                    </div>
                </div>
            </div>  
            </div> 
            <div class="clearfix"></div>
            <div class="col-sm-12 mess">
                <div class="form-group">
                    <label>Invoice To
                        <i class="ic info info-hover left-side">
                            <span class="ng-binding">This is the default used on new invoices. Client name and address will be used if left blank.</span>
                        </i>
                    </label>
                    <textarea class="form-control" ng-model="Patient.invoice_to"></textarea>
                </div>
            </div>
            <div class="col-sm-12 mess">
                <div class="form-group">
                    <label>Invoice Extra Information</label>
                    <textarea class="form-control" ng-model="Patient.invoice_extra_info"></textarea>
                </div>
            </div>
            <div class="col-sm-12">
                <h2>other information</h2>
            </div>
            <div class="col-sm-6 ">
                <div class="form-group" >
                    <label>Occupation</label>
                    <input type="text" class="form-control" ng-model="Patient.occupation">
                </div>
            </div>
            <div class="col-sm-6 ">
                <div class="form-group" >
                    <label>Emergency contact</label>
                    <input type="text" class="form-control" ng-model="Patient.emergancy_contact">
                </div>
            </div>
            <div class="col-sm-6 ">
                <div class="form-group" >
                    <label>Medicare Number</label>
                    <input type="text" class="form-control"  ng-model="Patient.medicare_number">
                </div>
            </div>
            <div class="col-sm-6 ">
                <div class="form-group" >
                    <label>Reference Number</label>
                    <input type="text" class="form-control"  ng-model="Patient.reference_number">
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group reff-docter rel-client">
                    <label>Referring Doctor</label>
                    <div class="clearfix"></div>
                            <md-content class="md-padding" ng-if="DoctorList.length">
                               <md-autocomplete
                                md-selected-item="Patient.refer_doctor"
                                md-search-text=""
                                md-items="item in DoctorList"
                                md-item-text="item.first_name +' '+ item.last_name"
                                placeholder="Search"
                                md-min-length="0">
                               <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>
                              <md-item-template>
                                  <span md-highlight-text="searchTextp" md-highlight-flags="^i">{{item.first_name}} {{item.last_name}}</span>
                            </md-item-template>
                            </md-autocomplete>
                        </md-content >
                    <p ng-if="!DoctorList.length">You do not have any <a href="#">Contacts</a> of type "Doctor"</p>
               </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group mess">
                    <label>Note</label>
                    <textarea class="form-control" ng-model="Patient.notes"></textarea>
               </div>
            </div>
            
    </div>
    <div class="col-sm-6">
            <div class="col-sm-12">
                <h2>Contact Information</h2>
            </div>
            <div class="col-sm-12">
                <div class="row">
                <label class="col-sm-12">Phone Number</label>
                <div class="form-group more-contacts" ng-repeat="phoneNum in Patient.phone_list">
                    <div class="col-sm-5">
                        <input type="text" class="form-control" ng-model="phoneNum.contact_no"/>
                    </div>
                    <div class="col-sm-4">
                        <select class="form-control" ng-model="phoneNum.type">
                            <option value="mobile">Mobile</option>
                            <option value="home">Home</option>
                            <option value="work">Work</option>
                            <option value="fax">Fax</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="col-sm-3 con-rem">
                        <a href="" ng-click="removePhone($index)" class="remove"><i class="ic cross"></i> Remove</a>
                    </div>
                </div>
                <div class="col-sm-12">
                    <a href="" ng-click="addPhone()" class="add-btn"><i class="ic add"></i> Add New</a>
                </div>
            </div>  
            </div>  
            <div class="col-sm-12">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" ng-model="Patient.email"/>
                </div>
            </div>
            <div class="col-sm-12">
                <h2>Address</h2>
            </div>
            <div class="col-sm-12">
                <div class="form-group mess">
                    <textarea  ng-model="Patient.address" class="form-control"></textarea>
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label>Country</label>
                    <select  ng-model="Patient.country"  class="form-control" ng-change="GetStates(Patient.country)"  ng-model="cntry">
                       <option ng-selected="" ng-repeat="countries in country" value="{{countries.code}}">{{countries.name}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label>State</label>
                    <select ng-model="Patient.state"  class="form-control">
                       <option ng-selected="" ng-repeat="states in state" value="{{states.code}}">{{states.name}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label>City</label>
                    <input type="text" class="form-control" ng-model="Patient.city"/>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label>Postal Code</label>
                    <input type="text" class="form-control" ng-model="Patient.post_code"/>
                </div>
            </div>
            <div class="col-sm-12">
                <h2>communication preferences</h2>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label>Automated Reminder Type</label>
                    <select ng-model="Patient.reminder_type"  class="form-control">
                       <option value="">None</option>
                       <option value="SMS">SMS</option>
                       <option value="Email">Email</option>
                       <option value="SMS & Email">SMS & Email</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group check-con online show">
                    <label class="ng-binding">Unsubscribe from SMS marketing</label>
                    <div class="checkbox">
                        <label>
                          <input type="checkbox" ng-model="Patient.sms_marketing" class=""><span></span> 
                          <p>Unsubscribed clients will not receive bulk SMS messages</p>
                        </label>
                    </div>
               </div>
            </div>
            <div class="col-sm-12">
                <h2>Referral source (for marketing)</h2>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label>Referral Type</label>
                    <select ng-model="Patient.referral_type"  class="form-control">
                       <option value="">None</option>
                       <option value="Client">Client</option>
                       <option value="Contact">Contact</option>
                       <option value="Email Marketing">Email Marketing</option>
                       <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group" ng-if="Patient.referral_type == 'Contact'">
                     <label>Referrer</label>
                    <md-content class="md-padding">
                               <md-autocomplete
                                md-selected-item="Patient.referrer"
                                md-search-text=""
                                md-items="item in ContactList"
                                md-item-text="item.first_name +' '+ item.last_name"
                                placeholder="Search"
                                md-min-length="0">
                               <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>
                              <md-item-template>
                                  <span md-highlight-text="searchTextp" md-highlight-flags="^i">{{item.first_name}} {{item.last_name}}</span>
                            </md-item-template>
                            </md-autocomplete>
                        </md-content >
                </div>

                <div class="form-group" ng-if="Patient.referral_type == 'Client'">
                    <label>Referrer</label>
                    <md-content class="md-padding">
                               <md-autocomplete
                                md-selected-item="Patient.referrer"
                                md-search-text=""
                                md-items="item in PatientList"
                                md-item-text="item.first_name +' '+ item.last_name"
                                placeholder="Search"
                                md-min-length="0">
                               <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>
                              <md-item-template>
                                  <span md-highlight-text="searchTextp" md-highlight-flags="^i">{{item.first_name}} {{item.last_name}}</span>
                            </md-item-template>
                            </md-autocomplete>
                        </md-content >
                </div>
                 <div class="form-group" ng-if="!!Patient.referral_type">
                    <label>Extra information</label>
                    <input type="text" class="form-control" ng-model="Patient.extra_info"/>
                </div>
            </div>
    </div>
 </div>
</form>
<style>.form-control{width:100% !important;}</style>

<!-- Modal -->
<script type="text/ng-template" id="patientFullDetail.html">
        <div class="modal-body ">
		  <!--<a href="" ng-click="cancel()" class="close-popup"></a>-->
            <div class="full-detail">
				<div class="col-sm-12 user-detail">
					<div class="row">
						<div class="col-sm-2">
							<img src="assets/user.png" alt="">
						</div>
						<div class="col-sm-10">
							<h3>{{PatientDetails.title}} {{PatientDetails.first_name}} {{PatientDetails.last_name}}</h3>
						</div>
					</div>
				</div>
				<hr>
                <div class="col-sm-4">
					<h3>Contact Details</h3>
					<h4><label>Contact No :</label>{{PatientDetails.phone_list[0].contact_no}}</h4>
					<h4><label>Email :</label>{{PatientDetails.email}}</h4>
					<h4><label>Address :</label>{{PatientDetails.address}}</h4>
					
					<h3>General Information</h3>
					<h4><label>Gender : </label>{{PatientDetails.gender}}</h4>
					<h4><label>DOB :</label>{{PatientDetails.dob_day}} {{PatientDetails.dob_month}} {{PatientDetails.dob_year}} ({{PatientDetails.age}} years old)</h4>
					<h4><label>Occupation : </label>{{PatientDetails.occupation}}</h4>
					<h4><label>Medicare No.</label>	{{PatientDetails.medicare_number}}</h4>
					<h4><label>Referral Source : </label>{{PatientDetails.referral_type}} {{PatientDetails.referrer}}</h4>
					<h4><label>Emergency Contact : 	</label>{{PatientDetails.emergency_contact}}</h4>
					<h4><label>Reference Number : </label>{{PatientDetails.reference_number}}</h4>
					<h4><label>Referring Doctor : </label>{{PatientDetails.refer_doctor}}</h4>
				</div>
				<div class="col-sm-5">
					<h3>Communications Preferences</h3>
					<h4><label>Automated Reminder :</label>{{PatientDetails.reminder_type}}</h4>
					<h4><label>SMS Marketing :</label>{{PatientDetails.sms_marketing}}</h4>
					<h4><label>Related Patients :</label><span ng-repeat=" relations in PatientDetails.relationship">{{relations.patient_name}} ({{relations.type}}), </span></h4>
					
					<h3>Billing</h3>
					<h4><label>Concession Type : </label>{{PatientDetails.concession_type}}</h4>
					<h4><label>Invoice To:</label> {{PatientDetails.invoice_to}}</h4>
					<h4><label>Email Invoice To :</label>{{PatientDetails.invoice_email}}</h4>
					<h4><label>Invoice Extra Info : </label>{{PatientDetails.invoice_extra_info}}</h4>
				</div>
				<div class="col-sm-3">
					<div class="note-detail">
						<h6>Note</h6>
						<p>{{PatientDetails.notes}}</p>
					</div>
				</div>
            </div>
        </div>
</script>
<style>.form-control{width:100% !important;}</style>